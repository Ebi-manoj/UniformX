<div class="max-w-6xl mx-auto bg-white shadow-md rounded-lg p-6">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-semibold">Users</h2>
    <div class="relative">
      <input
        type="text"
        id="search"
        placeholder="Search users..."
        class="border rounded-lg px-3 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-300"
      />
      <button
        onclick="clearSearch()"
        class="absolute right-2 top-2 text-gray-500"
      >
        âœ–
      </button>
    </div>
  </div>
  <!-- ..........................Table start from here............................ -->
  <table class="w-full border-collapse rounded-lg overflow-hidden">
    <thead class="bg-gray-100">
      <tr>
        <th class="text-left p-3">Name</th>
        <th class="text-left p-3">Email</th>
        <th class="text-left p-3">Joined Date</th>
        <th class="text-left p-3">Status</th>
      </tr>
    </thead>
    <tbody id="userTable" class="bg-white divide-y">
      <% users.forEach(user => { %>
      <tr>
        <td class="p-3"><%= user.name %></td>
        <td class="p-3"><%= user.email %></td>
        <td class="p-3"><%= user.joinedDate %></td>
        <td class="p-3">
          <label class="flex items-center cursor-pointer">
            <input type="checkbox" class="hidden peer toggle-status"
            data-id="<%= user._id %>" data-status="<%= user.isBlocked %>" <%=
            user.isBlocked ? 'checked' : '' %> />
            <div
              class="w-12 h-6 bg-gray-300 rounded-full peer-checked:bg-green-500 relative transition-all"
            >
              <div
                class="w-5 h-5 bg-white rounded-full absolute left-1 top-0.5 peer-checked:left-6 transition-all"
              ></div>
            </div>
          </label>
        </td>
      </tr>
      <% }) %>
    </tbody>
  </table>

  <!-- Pagination Controls -->
  <div class="flex justify-between items-center mt-4">
    <span class="text-gray-600">Total Users: <%= totalUsers %></span>

    <div>
      <% if (currentPage > 1) { %>
      <a
        href="?page=<%= currentPage - 1 %>&search=<%= searchQuery %>"
        class="px-3 py-1 bg-gray-200 rounded"
        >Previous</a
      >
      <% } %>

      <span class="px-3 py-1 bg-gray-300 rounded"
        ><%= currentPage %> / <%= totalPages %></span
      >

      <% if (currentPage < totalPages) { %>
      <a
        href="?page=<%= currentPage + 1 %>&search=<%= searchQuery %>"
        class="px-3 py-1 bg-gray-200 rounded"
        >Next</a
      >
      <% } %>
    </div>
  </div>
  <!--..............................................................................................  -->
  <div class="flex justify-between items-center mt-4">
    <p class="text-sm text-gray-500">Showing 1-10 of 50</p>
    <div class="flex space-x-2">
      <button class="px-3 py-1 bg-gray-200 rounded">&lt;</button>
      <button class="px-3 py-1 bg-gray-800 text-white rounded">1</button>
      <button class="px-3 py-1 bg-gray-200 rounded">2</button>
      <button class="px-3 py-1 bg-gray-200 rounded">...</button>
      <button class="px-3 py-1 bg-gray-200 rounded">5</button>
      <button class="px-3 py-1 bg-gray-200 rounded">&gt;</button>
    </div>
  </div>
</div>
