<div class="bg-white min-h-screen flex relative text-gray-500">
<%- include('../partials/profile_sidebar') %>
<div class="bg-gray-100 flex items-center min-h-screen p-4 w-full">
  <div class="bg-white rounded-xl shadow-sm border border-gray-200 w-full p-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-10">Refer and Earn</h1>
    
    <div class="bg-gray-50 rounded-lg p-6 mb-8">
      <p class="text-gray-600 mb-2">Your Referral Code</p>
      <div class="flex items-center justify-between">
        <h2 id="referalToken" class="text-3xl font-bold text-gray-900"><%= referals.referalToken %></h2>
        <button id="copyButton" class="flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
          <i class="far fa-copy"></i>
          <span>Copy Code</span>
        </button>
      </div>
    </div>
    
    <div class="mb-10">
      <h3 class="text-xl font-bold text-gray-900 mb-4">How it works:</h3>
      <ul class="space-y-3">
        <li class="flex items-start">
          <div class="flex-shrink-0 h-5 w-5 mt-1">
            <div class="h-2 w-2 rounded-full bg-gray-500"></div>
          </div>
          <span class="ml-3 text-gray-600">Share your referral code with friends</span>
        </li>
        <li class="flex items-start">
          <div class="flex-shrink-0 h-5 w-5 mt-1">
            <div class="h-2 w-2 rounded-full bg-gray-500"></div>
          </div>
          <span class="ml-3 text-gray-600">When they sign up using your code, they get ₹50 in their wallet</span>
        </li>
        <li class="flex items-start">
          <div class="flex-shrink-0 h-5 w-5 mt-1">
            <div class="h-2 w-2 rounded-full bg-gray-500"></div>
          </div>
          <span class="ml-3 text-gray-600">You earn ₹100 for each successful referral</span>
        </li>
      </ul>
    </div>
    
    <div class="border-t border-gray-200 pt-6 mb-6">
      <div class="flex justify-between items-center">
        <div>
          <p class="text-gray-600 mb-1">Total Referrals</p>
          <p class="text-3xl font-bold text-gray-900"><%= referals.totalUsed %></p>
        </div>
        <div class="text-right">
          <p class="text-gray-600 mb-1">Earnings</p>
          <p class="text-3xl font-bold text-gray-900">₹<%= referals.totalEarned %></p>
        </div>
      </div>
    </div>
    
    <button class="w-[50%] mx-auto bg-gray-900 hover:bg-gray-700 text-white font-medium py-4 px-6 rounded-lg transition-colors flex items-center justify-center gap-2">
      <i class="fas fa-share-alt"></i>
      <span>Share Your Referral Code</span>
    </button>
  </div>
  </div>
</div>

  <script>
    // Copy to clipboard functionality
    document.getElementById('copyButton').addEventListener('click', function() {
      const referralCode = document.getElementById('referalToken').textContent;
      navigator.clipboard.writeText(referralCode).then(function() {
        // Change button text temporarily to show success
        const button = document.getElementById('copyButton');
        const originalHTML = button.innerHTML;
        button.innerHTML = '<i class="fas fa-check"></i><span>Copied!</span>';
        button.classList.add('bg-gray-100');
        
        setTimeout(function() {
          button.innerHTML = originalHTML;
          button.classList.remove('bg-gray-100');
        }, 5000);
      });
    });
  </script>

