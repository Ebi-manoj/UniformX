<style>
    .input-disabled {
      @apply bg-gray-50 text-gray-700 border-gray-200;
    }
  </style>
  <div class="bg-white min-h-screen flex relative">
    <%- include('../partials/profile_sidebar') %>
    <div id="address" class="flex w-full px-6 py-4 justify-center border-l-[1px] border-gray-200 mt-10">
      <div class="bg-white w-[70%] rounded-lg shadow-sm p-6">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-xl font-medium">Shipping address</h2>
          <div class="relative flex gap-3">
            <button
              class="flex items-center py-1 bg-black text-white rounded-md px-2 hover:bg-gray-800 transition-colors"
              id="addAddressBtn"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-2"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M12 5v14M5 12h14"></path>
              </svg>
              Add new
            </button>
          </div>
        </div>
        <input type="hidden" id="allAddresses" value='<%- JSON.stringify(addresses) %>'>
        <!-- addrres form -->
        <% if (!addresses || addresses.length === 0) { %>
          <div class="mt-[10%] text-center">
            <p class="text-gray-400 text-lg font-medium">
              <i class="fas fa-map-marker-alt text-blue-500 mr-2"></i>
              No address found. Add a new one to continue.
            </p>
          </div>
        <% } else { %>
          <div class="w-full flex justify-end">
            <select id="addressSelect" class="border rounded-md px-3 py-2">
              <% addresses.forEach((addr, index) => { %>
                <option value="<%= index %>"><%= addr.name %></option>
              <% }) %>
            </select>
          </div>
        
          <form id="addressForm" action="/profile/update-address" method="post">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5">
              <input type="hidden" value="" name="id" id="addressId">
        
              <!-- Street Address -->
              <div class="md:col-span-2">
                <label for="street" class="block text-sm font-medium text-gray-700 mb-1">Street Address</label>
                <input type="text" id="street" name="address" value=""
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent input-disabled" disabled />
              </div>
        
              <!-- Full Name -->
              <div>
                <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                <input type="text" id="fullName" name="fullName" value=""
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent input-disabled" disabled />
              </div>
        
              <!-- District -->
              <div>
                <label for="district" class="block text-sm font-medium text-gray-700 mb-1">District</label>
                <input type="text" id="district" name="district" value=""
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent input-disabled" disabled />
              </div>
        
              <!-- State -->
              <div>
                <label for="state" class="block text-sm font-medium text-gray-700 mb-1">State</label>
                <input type="text" id="state" name="state" value=""
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent input-disabled" disabled />
              </div>
        
              <!-- Pin Code -->
              <div>
                <label for="pincode" class="block text-sm font-medium text-gray-700 mb-1">Pin Code</label>
                <input type="text" id="pincode" name="pincode" value=""
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent input-disabled" disabled />
              </div>
        
              <!-- Country -->
              <div>
                <label for="country" class="block text-sm font-medium text-gray-700 mb-1">Country</label>
                <input type="text" id="country" name="country" value=""
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent input-disabled" disabled />
              </div>
        
              <!-- Mobile -->
              <div>
                <label for="mobile" class="block text-sm font-medium text-gray-700 mb-1">Mobile</label>
                <input type="tel" id="mobile" name="mobile" value=""
                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent input-disabled" disabled />
              </div>
            </div>
        
            <div class="mt-6 flex gap-5">
              <button type="button" id="toggleEditBtn"
                class="px-4 py-2 bg-gray-900 flex items-center text-white font-medium rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                  <path
                    d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
                </svg>
                Edit
              </button>
        
              <!-- delete Button -->
              <button type="button" class="text-red-500 hover:text-red-700" data-id="" id="address-delete-btn">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </form>
        <% } %>
        
        

        <!-- end -->
      </div>
    </div>
  </div>
  <%- include('../partials/address_modal') %>
  
  